apiVersion: flightctl.io/v1alpha1
kind: Fleet
metadata:
  labels: {}
  name: demo
  resourceVersion: "4"
spec:
  selector:
    matchLabels:
      fleet: "demo"
  template:
    metadata:
      labels:
        fleet: demo
    spec:
      applications:
      - envVars: {}
        image: ghcr.io/luisarizmendi/app-demo-elk:latest
        name: elk
      config:
      - name: motd-update
        configType: InlineConfigProviderSpec
        inline:
          - path: "/etc/motd"
            content: "This system is managed by flightctl."
            mode: 0644
      - gitRef:
          mountPath: /
          path: /configs/site/{{ .metadata.labels.site }}
          repository: rhem-demo
          targetRevision: main
        name: site-config
      - gitRef:
          mountPath: /
          path: /configs/function/{{ .metadata.labels.function }}
          repository: rhem-demo
          targetRevision: main
        name: function-config
      systemd:
        matchPatterns:
          - "flightctl-agent.service"
      os:
        image: ghcr.io/luisarizmendi/device-example-kiosk:v1



